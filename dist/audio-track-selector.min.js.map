{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///audio-track-selector.min.js","webpack:///webpack/bootstrap db53b0963f9a425a5c4d","webpack:///./index.js","webpack:///./src/main.js","webpack:///external \"Clappr\"","webpack:///./src/public/audio-track-selector.html","webpack:///./src/public/style.scss","webpack:///./~/css-loader/lib/css-base.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Object","defineProperty","value","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_get","_x2","_x3","_x4","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","getter","get","parent","getPrototypeOf","_Clappr","_publicAudioTrackSelectorHtml","_publicAudioTrackSelectorHtml2","_publicStyleScss","_publicStyleScss2","AUTO","AudioTrackSelector","_UICorePlugin","apply","arguments","listenTo","core","Events","CORE_READY","bindPlaybackEvents","mediaControl","MEDIACONTROL_CONTAINERCHANGED","reload","MEDIACONTROL_RENDERED","render","MEDIACONTROL_HIDE","hideSelectLevelMenu","stopListening","getCurrentPlayback","PLAYBACK_LEVELS_AVAILABLE","PLAYBACK_LEVEL_SWITCH_START","PLAYBACK_LEVEL_SWITCH_END","PLAYBACK_BITRATE","currentPlayback","fillLevels","updateCurrentLevelVideo","playbackLevelsAvaialbeWasTriggered","levels","unBindEvents","bindEvents","getCurrentContainer","respondsToCurrentLevel","currentLevel","hasLevels","audiotrack","shouldRender","style","Styler","getStyleFor","baseUrl","options","$el","html","template","title","getTitle","append","$","el","highlightCurrentLevel","initialLevel","_hls","audioTracks","selectedLevelId","x","groupId","streamController","level","attrs","AUDIO","audioTrack","configureLevelsLabels","group","agroupElement","addClass","removeClass","AudioTrackSelectorConfig","levelId","labels","parseInt","thereIsLevel","findLevelBy","changeLevelLabelBy","foundLevel","forEach","newLabel","_this","index","name","event","dataset","audioTrackSelectorSelect","substr","toggleContextMenu","stopPropagation","hide","toggle","isNaN","gid","buttonElement","text","info","levelElement","updateText","class","data-audio-track-selector","click [data-audio-track-selector-select]","click [data-audio-track-selector-button]","VERSION","UICorePlugin","push","list","toString","result","item","join","mediaQuery","alreadyImportedModules"],"mappings":"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","file":"audio-track-selector.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Clappr\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Clappr\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AudioTrackSelector\"] = factory(require(\"Clappr\"));\n\telse\n\t\troot[\"AudioTrackSelector\"] = factory(root[\"Clappr\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Clappr\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Clappr\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AudioTrackSelector\"] = factory(require(\"Clappr\"));\n\telse\n\t\troot[\"AudioTrackSelector\"] = factory(root[\"Clappr\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"<%=baseUrl%>/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports['default'] = __webpack_require__(/*! ./src/main.js */ 1);module.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/*!*********************!*\\\n  !*** ./src/main.js ***!\n  \\*********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(_x2,_x3,_x4){var _again=true;_function: while(_again) {var object=_x2,property=_x3,receiver=_x4;_again = false;if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}}};function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var _Clappr=__webpack_require__(/*! Clappr */ 2);var _publicAudioTrackSelectorHtml=__webpack_require__(/*! ./public/audio-track-selector.html */ 3);var _publicAudioTrackSelectorHtml2=_interopRequireDefault(_publicAudioTrackSelectorHtml);var _publicStyleScss=__webpack_require__(/*! ./public/style.scss */ 4);var _publicStyleScss2=_interopRequireDefault(_publicStyleScss);var AUTO=-1;var AudioTrackSelector=(function(_UICorePlugin){_inherits(AudioTrackSelector,_UICorePlugin);function AudioTrackSelector(){_classCallCheck(this,AudioTrackSelector);_get(Object.getPrototypeOf(AudioTrackSelector.prototype),'constructor',this).apply(this,arguments);}_createClass(AudioTrackSelector,[{key:'bindEvents',value:function bindEvents(){ //console.log(' Audio-Track bindEvents');\n\tthis.listenTo(this.core,_Clappr.Events.CORE_READY,this.bindPlaybackEvents);this.listenTo(this.core.mediaControl,_Clappr.Events.MEDIACONTROL_CONTAINERCHANGED,this.reload);this.listenTo(this.core.mediaControl,_Clappr.Events.MEDIACONTROL_RENDERED,this.render);this.listenTo(this.core.mediaControl,_Clappr.Events.MEDIACONTROL_HIDE,this.hideSelectLevelMenu);}},{key:'unBindEvents',value:function unBindEvents(){ //console.log(' Audio-Track unBindEvents');\n\tthis.stopListening(this.core,_Clappr.Events.CORE_READY);this.stopListening(this.core.mediaControl,_Clappr.Events.MEDIACONTROL_CONTAINERCHANGED);this.stopListening(this.core.mediaControl,_Clappr.Events.MEDIACONTROL_RENDERED);this.stopListening(this.core.mediaControl,_Clappr.Events.MEDIACONTROL_HIDE);this.stopListening(this.core.getCurrentPlayback(),_Clappr.Events.PLAYBACK_LEVELS_AVAILABLE);this.stopListening(this.core.getCurrentPlayback(),_Clappr.Events.PLAYBACK_LEVEL_SWITCH_START);this.stopListening(this.core.getCurrentPlayback(),_Clappr.Events.PLAYBACK_LEVEL_SWITCH_END);this.stopListening(this.core.getCurrentPlayback(),_Clappr.Events.PLAYBACK_BITRATE);}},{key:'bindPlaybackEvents',value:function bindPlaybackEvents(){ //console.log(' Audio-Track bindPlaybackEvents');\n\tvar currentPlayback=this.core.getCurrentPlayback();this.listenTo(currentPlayback,_Clappr.Events.PLAYBACK_LEVELS_AVAILABLE,this.fillLevels); //this.listenTo(currentPlayback, Events.PLAYBACK_LEVEL_SWITCH_START, this.startLevelSwitch)\n\t//this.listenTo(currentPlayback, Events.PLAYBACK_LEVEL_SWITCH_END, this.stopLevelSwitch)\n\tthis.listenTo(currentPlayback,_Clappr.Events.PLAYBACK_BITRATE,this.updateCurrentLevelVideo); //console.log(' Audio-Track bindPlaybackEvents'+currentPlayback);\n\tvar playbackLevelsAvaialbeWasTriggered=currentPlayback.levels && currentPlayback.levels.length > 0;playbackLevelsAvaialbeWasTriggered && this.fillLevels(currentPlayback.levels);}},{key:'reload',value:function reload(){ //console.log(' Audio-Track reload');\n\tthis.unBindEvents();this.bindEvents();this.bindPlaybackEvents();}},{key:'shouldRender',value:function shouldRender(){ //console.log(' Audio-Track shouldRender');\n\tif(!this.core.getCurrentContainer())return false;var currentPlayback=this.core.getCurrentPlayback();if(!currentPlayback)return false;var respondsToCurrentLevel=currentPlayback.currentLevel !== undefined; // Only care if we have at least 2 to choose from\n\tvar hasLevels=!!(this.audiotrack && this.audiotrack.length > 1); //console.log(' Audio-Track shouldRender ('+respondsToCurrentLevel+')('+hasLevels+')');\n\treturn respondsToCurrentLevel && hasLevels;}},{key:'render',value:function render(){ //console.log(' Audio-Track render');\n\tif(this.shouldRender()){var style=_Clappr.Styler.getStyleFor(_publicStyleScss2['default'],{baseUrl:this.core.options.baseUrl});this.$el.html(this.template({'levels':this.audiotrack,'title':this.getTitle()}));this.$el.append(style);this.core.mediaControl.$('.media-control-right-panel').append(this.el);this.highlightCurrentLevel();}return this;}},{key:'fillLevels',value:function fillLevels(levels){var initialLevel=arguments.length <= 1 || arguments[1] === undefined?AUTO:arguments[1]; //console.log(' Audio-Track fillLevels');\n\tif(this.core.getCurrentPlayback()._hls.audioTracks === undefined)return;if(this.core.getCurrentPlayback()._hls.audioTracks.length == 0)return; //console.log('start filling in audio tracks');\n\tif(this.selectedLevelId === undefined)this.selectedLevelId = initialLevel; //this.audiotrack = levels\n\tthis.audiotrack = this.core.getCurrentPlayback()._hls.audioTracks; //console.log(this.audiotrack);\n\tfor(var x=0;x < this.audiotrack.length;x++) {this.audiotrack[x].id = x;}for(var x=0;x < this.audiotrack.length;x++) { //console.log (x);\n\tif(this.audiotrack[x].groupId == this.core.getCurrentPlayback()._hls.streamController.levels[+this.core.getCurrentPlayback()._hls.streamController.level].attrs.AUDIO){ //console.log('a group match, selecting default('+this.audiotrack[x].groupId +')('+this.core.getCurrentPlayback()._hls.streamController.levels[+this.core.getCurrentPlayback()._hls.streamController.level].attrs.AUDIO+')');\n\tif(this.audiotrack[x]['default'] == true){ //console.log('selecting');\n\t//console.log(this.audiotrack[x]);\n\tthis.selectedLevelId = x;this.currentLevel = this.audiotrack[this.selectedLevelId];this.core.getCurrentPlayback()._hls.audioTrack = this.selectedLevelId;this.highlightCurrentLevel();}}}this.configureLevelsLabels(); //\n\tthis.render();var group=this.core.getCurrentPlayback()._hls.streamController.levels[this.core.getCurrentPlayback()._hls.streamController.level].attrs.AUDIO;this.agroupElement().addClass('hidden');this.$('.audio_track_selector ul a[data-level-group-selector-select=\"' + group + '\"]').parent().removeClass('hidden');}},{key:'configureLevelsLabels',value:function configureLevelsLabels(){ //console.log(' Audio-Track configureLevelsLabels');\n\tif(this.core.options.AudioTrackSelectorConfig === undefined)return;for(var levelId in this.core.options.AudioTrackSelectorConfig.labels || {}) { //console.log(' Audio-Track configureLevelsLabels levelId:'+levelId);\n\tlevelId = parseInt(levelId,10);var thereIsLevel=!!this.findLevelBy(levelId);thereIsLevel && this.changeLevelLabelBy(levelId,this.core.options.AudioTrackSelectorConfig.labels[levelId]);}}},{key:'findLevelBy',value:function findLevelBy(id){ //console.log(' Audio-Track findLevelBy');\n\t//console.log(id);\n\t//console.log(this.audiotrack);\n\tvar foundLevel;this.audiotrack.forEach(function(level){if(level.id === id){foundLevel = level;}});return foundLevel;}},{key:'changeLevelLabelBy',value:function changeLevelLabelBy(id,newLabel){var _this=this; //console.log(' Audio-Track changeLevelLabelBy');\n\tthis.audiotrack.forEach(function(level,index){if(level.id === id){_this.audiotrack[index].name = newLabel;}});}},{key:'onLevelSelect',value:function onLevelSelect(event){ //console.log(' Audio-Track onLevelSelect ('+event.target.dataset.audioTrackSelectorSelect+')');\n\t//console.log('||'+event.target.dataset.audioTrackSelectorSelect.substr(6)+'||');\n\t//     this.selectedLevelId = parseInt(event.target.dataset.audioTrackSelectorSelect.substr(6), 10)\n\tthis.selectedLevelId = event.target.dataset.audioTrackSelectorSelect.substr(6); //console.log(''+this.currentLevel.id+' == '+this.selectedLevelId+'');\n\tif(this.currentLevel.id == this.selectedLevelId)return false;this.currentLevel = this.audiotrack[this.selectedLevelId]; //console.log(this.audiotrack[this.selectedLevelId]);        \n\t//console.log(this.core.getCurrentPlayback()._hls);\n\t//console.log(this.core.getCurrentPlayback()._hls.audioTracks);\n\t//this.core.getCurrentPlayback()._hls.audioTrack= this.audiotrack[this.selectedLevelId];\n\tthis.core.getCurrentPlayback()._hls.audioTrack = this.selectedLevelId;this.toggleContextMenu();this.highlightCurrentLevel();event.stopPropagation();return false;}},{key:'onShowLevelSelectMenu',value:function onShowLevelSelectMenu(event){this.toggleContextMenu();}},{key:'hideSelectLevelMenu',value:function hideSelectLevelMenu(){this.$('.audio_track_selector ul').hide();}},{key:'toggleContextMenu',value:function toggleContextMenu(){this.$('.audio_track_selector ul').toggle();}},{key:'buttonElement',value:function buttonElement(){return this.$('.audio_track_selector button');}},{key:'levelElement',value:function levelElement(id){return this.$('.audio_track_selector ul a' + (!isNaN(id)?'[data-audio-track-selector-select=\"audio_' + id + '\"]':'')).parent();}},{key:'agroupElement',value:function agroupElement(gid){return this.$('.audio_track_selector ul a' + (!isNaN(gid)?'[data-level-group-selector-select=\"' + gid + '\"]':'')).parent();}},{key:'getTitle',value:function getTitle(){return (this.core.options.AudioTrackSelectorConfig || {}).name;}},{key:'startLevelSwitch',value:function startLevelSwitch(){this.buttonElement().addClass('changing');}},{key:'stopLevelSwitch',value:function stopLevelSwitch(){this.buttonElement().removeClass('changing');}},{key:'updateText',value:function updateText(level){ //console.log(' Audio-Track updateText ('+level+')' );\n\tif(level === -1){this.buttonElement().text(this.findLevelBy(this.audiotrack[0].id).name);this.selectedLevelId = this.audiotrack[0].id;}else {this.buttonElement().text(this.findLevelBy(this.audiotrack[level].id).name);}}},{key:'updateCurrentLevel',value:function updateCurrentLevel(info){ //    console.log(' Audio-Track updateCurrentLevel');\n\t//     console.log(info);\n\tvar level=this.findLevelBy(info.id); //     console.log(level);\n\tthis.currentLevel = level?level:null;this.highlightCurrentLevel();}},{key:'updateCurrentLevelVideo',value:function updateCurrentLevelVideo(info){ //console.log(' Audio-Track updateCurrentLevelVideo');\n\tif(this.audiotrack == undefined)return;if(this.audiotrack.length == 0)return; //console.log(' Audio-Track updateCurrentLevelVideo2');\n\tvar group=this.core.getCurrentPlayback()._hls.streamController.levels[info.level].attrs.AUDIO;this.agroupElement().addClass('hidden');this.$('.audio_track_selector ul a[data-level-group-selector-select=\"' + group + '\"]').parent().removeClass('hidden');for(var x=0;x < this.audiotrack.length;x++) {if(this.audiotrack[x].groupId == this.core.getCurrentPlayback()._hls.streamController.levels[info.level].attrs.AUDIO){ //this.agroupElement(this.audiotrack[x].groupId).removeClass('hidden')        \n\t//         console.log('a group match, selecting default('+this.audiotrack[x].groupId +')('+this.core.getCurrentPlayback()._hls.streamController.levels[info.level].attrs.AUDIO+')');\n\tif(this.audiotrack[x]['default'] == true){ //console.log('selecting');\n\t//console.log(this.audiotrack[x]);\n\tthis.selectedLevelId = x;if(this.currentLevel.id == this.selectedLevelId)return false;this.currentLevel = this.audiotrack[this.selectedLevelId];this.core.getCurrentPlayback()._hls.audioTrack = this.selectedLevelId;this.highlightCurrentLevel();}}} //\n\t//\n\t}},{key:'highlightCurrentLevel',value:function highlightCurrentLevel(){ //console.log(' Audio-Track highlightCurrentLevel ('+this.currentLevel.id+')');\n\t//console.log(this.currentLevel);\n\tthis.levelElement().removeClass('current');this.levelElement(this.currentLevel.id).addClass('current');this.updateText(this.selectedLevelId);}},{key:'name',get:function get(){return 'audio_track_selector';}},{key:'template',get:function get(){return (0,_Clappr.template)(_publicAudioTrackSelectorHtml2['default']);}},{key:'attributes',get:function get(){return {'class':this.name,'data-audio-track-selector':''};}},{key:'events',get:function get(){ //console.log(' Audio-Track events');\n\treturn {'click [data-audio-track-selector-select]':'onLevelSelect','click [data-audio-track-selector-button]':'onShowLevelSelectMenu'};}}],[{key:'version',get:function get(){return VERSION;}}]);return AudioTrackSelector;})(_Clappr.UICorePlugin);exports['default'] = AudioTrackSelector;module.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/*!*************************!*\\\n  !*** external \"Clappr\" ***!\n  \\*************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/*!**********************************************!*\\\n  !*** ./src/public/audio-track-selector.html ***!\n  \\**********************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button data-audio-track-selector-button>\\n  Auto\\n</button>\\n<ul>\\n  <% if (title) { %>\\n  <li data-title><%= title %></li>\\n  <% }; %>\\n  <% for (var i = 0; i < levels.length; i++) { %>\\n    <li><a href=\\\"#\\\" data-audio-track-selector-select=\\\"audio_<%= i %>\\\" data-level-group-selector-select=\\\"<%= levels[i].groupId %>\\\"><%= levels[i].name %></a></li>\\n  <% }; %>\\n</ul>\\n\";\n\n/***/ },\n/* 4 */\n/*!*******************************!*\\\n  !*** ./src/public/style.scss ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ 5)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".audio_track_selector[data-audio-track-selector]{float:right;margin-top:5px;position:relative}.audio_track_selector[data-audio-track-selector] button{background-color:transparent;color:#fff;font-family:Roboto,Open Sans,Arial,sans-serif;-webkit-font-smoothing:antialiased;border:none;font-size:10px}.audio_track_selector[data-audio-track-selector] button:hover{color:#c9c9c9}.audio_track_selector[data-audio-track-selector] button.changing{-webkit-animation:pulse .5s infinite alternate}.audio_track_selector[data-audio-track-selector]>ul{list-style-type:none;position:absolute;bottom:25px;border:1px solid #000;display:none;background-color:#e6e6e6;white-space:nowrap}.audio_track_selector[data-audio-track-selector] li{font-size:10px}.audio_track_selector[data-audio-track-selector] li[data-title]{background-color:#c3c2c2;padding:5px}.audio_track_selector[data-audio-track-selector] li a{color:#444;padding:2px 10px;display:block;text-decoration:none}.audio_track_selector[data-audio-track-selector] li a:hover{background-color:#555;color:#fff}.audio_track_selector[data-audio-track-selector] li a:hover a{color:#fff;text-decoration:none}.audio_track_selector[data-audio-track-selector] li.current a{color:red}.hidden{display:none}@-webkit-keyframes pulse{0%{color:#fff}50%{color:#ff0101}to{color:#b80000}}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 5 */\n/*!**************************************!*\\\n  !*** ./~/css-loader/lib/css-base.js ***!\n  \\**************************************/\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/ // css base code, injected by the css-loader\n\t\"use strict\";module.exports = function(){var list=[]; // return the list of modules as css string\n\tlist.toString = function toString(){var result=[];for(var i=0;i < this.length;i++) {var item=this[i];if(item[2]){result.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");}else {result.push(item[1]);}}return result.join(\"\");}; // import a list of modules into the list\n\tlist.i = function(modules,mediaQuery){if(typeof modules === \"string\")modules = [[null,modules,\"\"]];var alreadyImportedModules={};for(var i=0;i < this.length;i++) {var id=this[i][0];if(typeof id === \"number\")alreadyImportedModules[id] = true;}for(i = 0;i < modules.length;i++) {var item=modules[i]; // skip already imported module\n\t// this implementation is not 100% perfect for weird media query combinations\n\t//  when a module is imported multiple times with different media queries.\n\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]){if(mediaQuery && !item[2]){item[2] = mediaQuery;}else if(mediaQuery){item[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";}list.push(item);}}};return list;};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// audio-track-selector.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"<%=baseUrl%>/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap db53b0963f9a425a5c4d","export default require('./src/main.js')\n\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import {Events, Styler, UICorePlugin, template} from 'Clappr'\nimport pluginHtml from './public/audio-track-selector.html'\nimport pluginStyle from './public/style.scss'\n\nconst AUTO = -1\n\nexport default class AudioTrackSelector extends UICorePlugin {\n\n  static get version() { return VERSION }\n\n  get name() { return 'audio_track_selector' }\n  get template() { return template(pluginHtml) }\n\n  get attributes() {\n    return {\n      'class': this.name,\n      'data-audio-track-selector': ''\n    }\n  }\n\n  get events() {\n    //console.log(' Audio-Track events');\n    return {\n      'click [data-audio-track-selector-select]': 'onLevelSelect',\n      'click [data-audio-track-selector-button]': 'onShowLevelSelectMenu'\n    }\n  }\n\n  bindEvents() {\n    //console.log(' Audio-Track bindEvents');\n    this.listenTo(this.core, Events.CORE_READY, this.bindPlaybackEvents)\n    this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_CONTAINERCHANGED, this.reload)\n    this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_RENDERED, this.render)\n    this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_HIDE, this.hideSelectLevelMenu)\n  }\n\n  unBindEvents() {\n    //console.log(' Audio-Track unBindEvents');\n    this.stopListening(this.core, Events.CORE_READY)\n    this.stopListening(this.core.mediaControl, Events.MEDIACONTROL_CONTAINERCHANGED)\n    this.stopListening(this.core.mediaControl, Events.MEDIACONTROL_RENDERED)\n    this.stopListening(this.core.mediaControl, Events.MEDIACONTROL_HIDE)\n    this.stopListening(this.core.getCurrentPlayback(), Events.PLAYBACK_LEVELS_AVAILABLE)\n    this.stopListening(this.core.getCurrentPlayback(), Events.PLAYBACK_LEVEL_SWITCH_START)\n    this.stopListening(this.core.getCurrentPlayback(), Events.PLAYBACK_LEVEL_SWITCH_END)\n    this.stopListening(this.core.getCurrentPlayback(), Events.PLAYBACK_BITRATE)\n  }\n\n  bindPlaybackEvents() {\n    //console.log(' Audio-Track bindPlaybackEvents');\n      var currentPlayback = this.core.getCurrentPlayback()\n\n      this.listenTo(currentPlayback, Events.PLAYBACK_LEVELS_AVAILABLE, this.fillLevels)\n      //this.listenTo(currentPlayback, Events.PLAYBACK_LEVEL_SWITCH_START, this.startLevelSwitch)\n      //this.listenTo(currentPlayback, Events.PLAYBACK_LEVEL_SWITCH_END, this.stopLevelSwitch)\n      this.listenTo(currentPlayback, Events.PLAYBACK_BITRATE, this.updateCurrentLevelVideo)\n\n      //console.log(' Audio-Track bindPlaybackEvents'+currentPlayback);\n      var playbackLevelsAvaialbeWasTriggered = currentPlayback.levels && currentPlayback.levels.length > 0\n      playbackLevelsAvaialbeWasTriggered && this.fillLevels(currentPlayback.levels)\n  }\n\n  reload() {\n    //console.log(' Audio-Track reload');\n    this.unBindEvents()\n    this.bindEvents()\n    this.bindPlaybackEvents()\n  }\n\n  shouldRender() {\n    //console.log(' Audio-Track shouldRender');\n    if (!this.core.getCurrentContainer()) return false\n\n    var currentPlayback = this.core.getCurrentPlayback()\n    if (!currentPlayback) return false\n\n    var respondsToCurrentLevel = currentPlayback.currentLevel !== undefined\n    // Only care if we have at least 2 to choose from\n    var hasLevels = !!(this.audiotrack && this.audiotrack.length > 1)\n\n    //console.log(' Audio-Track shouldRender ('+respondsToCurrentLevel+')('+hasLevels+')');\n    \n    return respondsToCurrentLevel && hasLevels\n  }\n\n  render() {\n    //console.log(' Audio-Track render');\n    if (this.shouldRender()) {\n      var style = Styler.getStyleFor(pluginStyle, {baseUrl: this.core.options.baseUrl})\n\n      this.$el.html(this.template({'levels':this.audiotrack, 'title': this.getTitle()}))\n      this.$el.append(style)\n      this.core.mediaControl.$('.media-control-right-panel').append(this.el)\n      this.highlightCurrentLevel()\n    }\n    return this\n  }\n\n  fillLevels(levels, initialLevel = AUTO) {\n    //console.log(' Audio-Track fillLevels');\n    \n    if (this.core.getCurrentPlayback()._hls.audioTracks === undefined) return\n    if (this.core.getCurrentPlayback()._hls.audioTracks.length == 0) return\n    \n    //console.log('start filling in audio tracks');\n      \n    if (this.selectedLevelId === undefined) this.selectedLevelId = initialLevel\n      \n    //this.audiotrack = levels\n    this.audiotrack = this.core.getCurrentPlayback()._hls.audioTracks\n    //console.log(this.audiotrack);\n      for(var x=0;x<this.audiotrack.length;x++)\n      {\n        this.audiotrack[x].id=x;\n      }\n      \n      \n      for(var x=0;x<this.audiotrack.length;x++)\n      {\n        //console.log (x);\n        if(this.audiotrack[x].groupId == this.core.getCurrentPlayback()._hls.streamController.levels[+this.core.getCurrentPlayback()._hls.streamController.level].attrs.AUDIO)\n        {\n          \n          //console.log('a group match, selecting default('+this.audiotrack[x].groupId +')('+this.core.getCurrentPlayback()._hls.streamController.levels[+this.core.getCurrentPlayback()._hls.streamController.level].attrs.AUDIO+')');\n          if(this.audiotrack[x].default == true)\n          {\n            //console.log('selecting');\n            //console.log(this.audiotrack[x]);\n            this.selectedLevelId = x\n            \n            this.currentLevel=this.audiotrack[this.selectedLevelId]\n            this.core.getCurrentPlayback()._hls.audioTrack= this.selectedLevelId;          \n            this.highlightCurrentLevel();          \n          }\n        }\n      }\n      \n    this.configureLevelsLabels()\n    //\n    this.render()\n    \n    var group = this.core.getCurrentPlayback()._hls.streamController.levels[this.core.getCurrentPlayback()._hls.streamController.level].attrs.AUDIO;\n    this.agroupElement().addClass('hidden');\n    this.$('.audio_track_selector ul a[data-level-group-selector-select=\"'+group+'\"]').parent().removeClass('hidden')\n    \n  }\n\n  configureLevelsLabels() {\n    //console.log(' Audio-Track configureLevelsLabels');\n    if (this.core.options.AudioTrackSelectorConfig === undefined) return\n\n    for (var levelId in (this.core.options.AudioTrackSelectorConfig.labels || {})) {\n      //console.log(' Audio-Track configureLevelsLabels levelId:'+levelId);\n      levelId = parseInt(levelId, 10)\n      var thereIsLevel = !!this.findLevelBy(levelId)\n      thereIsLevel && this.changeLevelLabelBy(levelId, this.core.options.AudioTrackSelectorConfig.labels[levelId])\n    }\n  }\n\n  findLevelBy(id) {\n    //console.log(' Audio-Track findLevelBy');\n    //console.log(id);\n    //console.log(this.audiotrack);\n    var foundLevel\n    this.audiotrack.forEach((level) => { if (level.id === id) {foundLevel = level} })\n    return foundLevel\n  }\n\n  changeLevelLabelBy(id, newLabel) {\n    //console.log(' Audio-Track changeLevelLabelBy');\n    this.audiotrack.forEach((level, index) => {\n      if (level.id === id) {\n        this.audiotrack[index].name = newLabel\n      }\n    })\n  }\n\n  onLevelSelect(event) {\n    //console.log(' Audio-Track onLevelSelect ('+event.target.dataset.audioTrackSelectorSelect+')');\n    //console.log('||'+event.target.dataset.audioTrackSelectorSelect.substr(6)+'||');\n    \n//     this.selectedLevelId = parseInt(event.target.dataset.audioTrackSelectorSelect.substr(6), 10)\n    this.selectedLevelId = event.target.dataset.audioTrackSelectorSelect.substr(6)\n    //console.log(''+this.currentLevel.id+' == '+this.selectedLevelId+'');\n    if (this.currentLevel.id == this.selectedLevelId) return false;\n    this.currentLevel=this.audiotrack[this.selectedLevelId]\n    //console.log(this.audiotrack[this.selectedLevelId]);        \n    //console.log(this.core.getCurrentPlayback()._hls);\n    //console.log(this.core.getCurrentPlayback()._hls.audioTracks);\n    \n    //this.core.getCurrentPlayback()._hls.audioTrack= this.audiotrack[this.selectedLevelId];\n    this.core.getCurrentPlayback()._hls.audioTrack= this.selectedLevelId;\n\n    this.toggleContextMenu()\n    this.highlightCurrentLevel();\n    event.stopPropagation()\n    \n    return false\n  }\n  onShowLevelSelectMenu(event) { this.toggleContextMenu() }\n\n  hideSelectLevelMenu() { this.$('.audio_track_selector ul').hide() }\n\n  toggleContextMenu() { this.$('.audio_track_selector ul').toggle() }\n\n  buttonElement() { return this.$('.audio_track_selector button') }\n\n  levelElement(id) {  return this.$('.audio_track_selector ul a'+(!isNaN(id) ? '[data-audio-track-selector-select=\"audio_'+id+'\"]' : '')).parent() }\n  agroupElement(gid) { return this.$('.audio_track_selector ul a'+(!isNaN(gid) ? '[data-level-group-selector-select=\"'+gid+'\"]' : '')).parent() }\n\n  getTitle() { return (this.core.options.AudioTrackSelectorConfig || {}).name }\n\n  startLevelSwitch() { this.buttonElement().addClass('changing') }\n\n  stopLevelSwitch() { this.buttonElement().removeClass('changing') }\n\n  updateText(level) {\n    //console.log(' Audio-Track updateText ('+level+')' );\n    if (level === -1) {\n      this.buttonElement().text(this.findLevelBy(this.audiotrack[0].id).name)\n      this.selectedLevelId = this.audiotrack[0].id;\n    }\n    else {\n      this.buttonElement().text(this.findLevelBy(this.audiotrack[level].id).name)\n    }\n  }\n  updateCurrentLevel(info) {\n//    console.log(' Audio-Track updateCurrentLevel');\n//     console.log(info);\n    var level = this.findLevelBy(info.id)\n//     console.log(level);\n    this.currentLevel = level ? level : null\n    this.highlightCurrentLevel()\n  }\n  updateCurrentLevelVideo(info) {\n    //console.log(' Audio-Track updateCurrentLevelVideo');\n    \n    if(this.audiotrack ==undefined) return;\n    if(this.audiotrack.length == 0 ) return;\n    \n    //console.log(' Audio-Track updateCurrentLevelVideo2');\n    \n    var group = this.core.getCurrentPlayback()._hls.streamController.levels[info.level].attrs.AUDIO;\n    this.agroupElement().addClass('hidden');\n    this.$('.audio_track_selector ul a[data-level-group-selector-select=\"'+group+'\"]').parent().removeClass('hidden')\n\n    for(var x=0;x<this.audiotrack.length;x++)\n    {\n      if(this.audiotrack[x].groupId == this.core.getCurrentPlayback()._hls.streamController.levels[info.level].attrs.AUDIO)\n      {\n        //this.agroupElement(this.audiotrack[x].groupId).removeClass('hidden')        \n//         console.log('a group match, selecting default('+this.audiotrack[x].groupId +')('+this.core.getCurrentPlayback()._hls.streamController.levels[info.level].attrs.AUDIO+')');\n        if(this.audiotrack[x].default == true)\n        {\n          //console.log('selecting');\n          //console.log(this.audiotrack[x]);\n          this.selectedLevelId = x\n          \n          if (this.currentLevel.id == this.selectedLevelId) return false;\n          \n          this.currentLevel=this.audiotrack[this.selectedLevelId]\n          this.core.getCurrentPlayback()._hls.audioTrack= this.selectedLevelId;          \n          this.highlightCurrentLevel();          \n        }\n      }\n    }\n    //\n    //\n  }\n  highlightCurrentLevel() {\n    //console.log(' Audio-Track highlightCurrentLevel ('+this.currentLevel.id+')');\n    //console.log(this.currentLevel);\n    this.levelElement().removeClass('current')\n    this.levelElement(this.currentLevel.id).addClass('current')\n    this.updateText(this.selectedLevelId)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Clappr\"\n// module id = 2\n// module chunks = 0","module.exports = \"<button data-audio-track-selector-button>\\n  Auto\\n</button>\\n<ul>\\n  <% if (title) { %>\\n  <li data-title><%= title %></li>\\n  <% }; %>\\n  <% for (var i = 0; i < levels.length; i++) { %>\\n    <li><a href=\\\"#\\\" data-audio-track-selector-select=\\\"audio_<%= i %>\\\" data-level-group-selector-select=\\\"<%= levels[i].groupId %>\\\"><%= levels[i].name %></a></li>\\n  <% }; %>\\n</ul>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/public/audio-track-selector.html\n// module id = 3\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".audio_track_selector[data-audio-track-selector]{float:right;margin-top:5px;position:relative}.audio_track_selector[data-audio-track-selector] button{background-color:transparent;color:#fff;font-family:Roboto,Open Sans,Arial,sans-serif;-webkit-font-smoothing:antialiased;border:none;font-size:10px}.audio_track_selector[data-audio-track-selector] button:hover{color:#c9c9c9}.audio_track_selector[data-audio-track-selector] button.changing{-webkit-animation:pulse .5s infinite alternate}.audio_track_selector[data-audio-track-selector]>ul{list-style-type:none;position:absolute;bottom:25px;border:1px solid #000;display:none;background-color:#e6e6e6;white-space:nowrap}.audio_track_selector[data-audio-track-selector] li{font-size:10px}.audio_track_selector[data-audio-track-selector] li[data-title]{background-color:#c3c2c2;padding:5px}.audio_track_selector[data-audio-track-selector] li a{color:#444;padding:2px 10px;display:block;text-decoration:none}.audio_track_selector[data-audio-track-selector] li a:hover{background-color:#555;color:#fff}.audio_track_selector[data-audio-track-selector] li a:hover a{color:#fff;text-decoration:none}.audio_track_selector[data-audio-track-selector] li.current a{color:red}.hidden{display:none}@-webkit-keyframes pulse{0%{color:#fff}50%{color:#ff0101}to{color:#b80000}}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/public/style.scss\n// module id = 4\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/css-loader/lib/css-base.js"],"sourceRoot":""}